@mixin cssvar-shades($name, $src-var) {
  --#{$name}: rgb(var(#{$src-var}, 106,106,106));

  @for $i from 9 through 1 {
    $pct: $i * 10;
    $alpha: $pct / 100;
    --#{$name}-#{$pct}: rgba(var(#{$src-var}, 106,106,106), #{$alpha});
  }
}

body#ST {
  .post {
    .dashpost {
      // SAF only
      &.saf-custom {
        --theme-rgb: var(--rgb);

        @include cssvar-shades(accent, --theme-rgb);

        --bg-accent-solid: var(--accent);
        --bg-accent: var(--accent-70);
        --bg-accent-high: var(--accent-80);
        --bg-accent-mid: var(--accent-60);
        --bg-accent-low: var(--accent-40);

        --text-accent: var(--accent);

        --border-accent-color: var(--accent);
        --border-accent: 1px solid var(--accent);
        --border-accent-mid: 1px solid var(--accent-60);
        --border-accent-low: 1px solid var(--accent-40);

        --wideImage: url(https://picsum.photos/500/250);
        --imagePosition: center;

        tag-image {
          background-image: var(--wideImage);
          background-size: cover;
          background-position: var(--imagePosition);
        }
      }
    }

    // rhys
    &.saf-23 .dashpost {
      --rgb: 163, 44, 36;
      --wideImage: url(https://images2.imgbox.com/d6/25/VIxcWmbe_o.png);
    }

    // lachlan
    &.lachlan,
    &.saf-98 .dashpost {
      --rgb: 163, 44, 36;
      --wideImage: url(https://i.postimg.cc/bwjsywCk/lachlan.png);
    }

    // laurie
    &.saf-77 .dashpost {
      --rgb: 173,181,211;
      --rgb-dark: 115,124,156;
      --wideImage: url(https://i.pinimg.com/736x/0e/a0/b1/0ea0b1f07909796ddc1c6d05078431c8.jpg);
    }

    // callista
    &.callista,
    &.saf-21 .dashpost {
      --rgb: 178, 180, 146;
      --rgb-dark: 115, 117, 79;
      --wideImage: url(https://i.pinimg.com/736x/3b/c9/fc/3bc9fcd65f9e5263fe4cacca1bc36a89.jpg);
      --imagePosition: top;
    }

    // quinn
    &.quinn,
    &.saf-29 .dashpost {
      --rgb: 106, 83, 142;
      --wideImage: url(https://i.pinimg.com/736x/ee/38/23/ee3823b3e4d27b585bbeeeab9a432296.jpg);
      --imagePosition: top;
    }

    // jiayi (inherits; safe due to fallback in mixin)
    &.jiayi,
    &.saf-70 .dashpost {
      // --rgb: ;
      --wideImage: url(https://i.postimg.cc/rwPFPG0V/jiayi.png);
      --imagePosition: 0 30%;
    }

    // teyah
    &.teyah,
    &.saf-90 .dashpost {
      --rgb: 172, 32, 58;
      --rgb-light: 209, 31, 79; // optional; not used by this palette
      --wideImage: url(https://i.postimg.cc/LXpQ9LdL/teyah-wide.png);
    }

    // wren
    &.saf-25 .dashpost {
      --rgb: 166,214,176;
      --wideImage: url(https://i.postimg.cc/59VpVzWv/FTew-Uy-DUc-AAQe9q-1751239711.jpg);
      --imagePosition: 0 10%;
    }
  }
}

body#ST.light .post .dashpost.saf-custom {
  --theme-rgb: var(--rgb-dark, var(--rgb));
}
